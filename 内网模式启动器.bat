@echo off
chcp 65001 >nul
title æ–‡æ¡£æœ¯è¯­ç¿»è¯‘åŠ©æ‰‹ - å†…ç½‘æ¨¡å¼å¯åŠ¨å™¨

echo.
echo ========================================
echo ðŸŒ æ–‡æ¡£æœ¯è¯­ç¿»è¯‘åŠ©æ‰‹ - å†…ç½‘æ¨¡å¼å¯åŠ¨å™¨
echo ========================================
echo.

echo ðŸ“‹ å†…ç½‘æ¨¡å¼ç‰¹æ€§ï¼š
echo    âœ… è·³è¿‡å¤–éƒ¨APIè¿žæŽ¥æ£€æŸ¥
echo    âœ… é¿å…ç½‘ç»œè¶…æ—¶é”™è¯¯
echo    âœ… ä¼˜å…ˆä½¿ç”¨æœ¬åœ°OllamaæœåŠ¡
echo    âœ… æ”¯æŒå†…ç½‘ç¿»è¯‘API
echo.

echo ðŸš€ æ­£åœ¨å¯åŠ¨å†…ç½‘æ¨¡å¼...

:: è®¾ç½®å†…ç½‘æ¨¡å¼çŽ¯å¢ƒå˜é‡
set INTRANET_MODE=true
set OFFLINE_MODE=false

:: æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶
set "EXE_FILE="
for %%f in (*.exe) do (
    if /i "%%~nf" neq "å†…ç½‘æ¨¡å¼å¯åŠ¨å™¨" (
        set "EXE_FILE=%%f"
        goto :found_exe
    )
)

:found_exe
if "%EXE_FILE%"=="" (
    echo âŒ æœªæ‰¾åˆ°å¯æ‰§è¡Œæ–‡ä»¶
    echo è¯·ç¡®ä¿æ­¤æ‰¹å¤„ç†æ–‡ä»¶ä¸Žç¨‹åºexeæ–‡ä»¶åœ¨åŒä¸€ç›®å½•
    pause
    exit /b 1
)

echo ðŸ“ æ‰¾åˆ°ç¨‹åºæ–‡ä»¶: %EXE_FILE%
echo ðŸ”§ çŽ¯å¢ƒå˜é‡å·²è®¾ç½®: INTRANET_MODE=true
echo.

echo ðŸš€ å¯åŠ¨ç¨‹åº...
echo.

:: å¯åŠ¨ç¨‹åº
start "" "%EXE_FILE%"

echo âœ… ç¨‹åºå·²åœ¨å†…ç½‘æ¨¡å¼ä¸‹å¯åŠ¨
echo.
echo ðŸ’¡ æç¤ºï¼š
echo    â€¢ ç¨‹åºå°†è·³è¿‡å¤–éƒ¨APIè¿žæŽ¥æ£€æŸ¥
echo    â€¢ å¦‚æžœéœ€è¦ä½¿ç”¨ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·ç¡®ä¿æœ¬åœ°OllamaæœåŠ¡å·²å¯åŠ¨
echo    â€¢ æŽ§åˆ¶å°çª—å£ä¼šæ˜¾ç¤ºè¯¦ç»†çš„è¿è¡Œä¿¡æ¯
echo.

timeout /t 3 /nobreak >nul
exit
